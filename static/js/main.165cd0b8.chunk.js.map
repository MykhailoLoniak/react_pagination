{"version":3,"sources":["App.tsx","utils.ts","index.tsx"],"names":["items","from","to","numbers","n","push","getNumbers","map","calculationOfItems","itemsPerPage","page","start","end","App","navigate","useNavigate","location","useLocation","useState","setItemsPerPage","activePage","setActivePage","useEffect","pageQueryParam","URLSearchParams","search","get","perPageQueryParam","totalItems","length","totalPages","Math","ceil","paginationLinks","Array","_","index","handlePageLinkClick","className","min","id","value","onChange","e","newItemsPerPage","Number","target","htmlFor","href","onClick","max","pageNum","slice","item","ReactDOM","render","document","getElementById"],"mappings":"oNAMMA,ECNC,SAAoBC,EAAcC,GAGvC,IAFA,IAAMC,EAAU,GAEPC,EAAIH,EAAMG,GAAKF,EAAIE,GAAK,EAC/BD,EAAQE,KAAKD,GAGf,OAAOD,EDDKG,CAAW,EAAG,IAAIC,KAAI,SAAAH,GAAC,qBAAYA,MAYjD,SAASI,EAAmBC,EAAsBC,GAIhD,MAAO,CAAEC,MAHaD,EAAOD,EAAeA,EAG5BG,IAFIF,EAAOD,EAAe,GAKrC,IAAMI,EAAgB,WAC3B,IAAMC,EAAWC,cAEXC,EAAWC,cACjB,EAAwCC,mBAAS,GAAjD,mBAAOT,EAAP,KAAqBU,EAArB,KACA,EAAoCD,mBAAS,GAA7C,mBAAOE,EAAP,KAAmBC,EAAnB,KAEAC,qBAAU,WACR,IAAMC,EAAiB,IAAIC,gBAAgBR,EAASS,QAAQC,IAAI,QAC1DC,EAAoB,IAAIH,gBAAgBR,EAASS,QACpDC,IAAI,WAEPL,EAAcE,GAAkBA,EAAiB,GACjDJ,EAAgBQ,GAAqBA,EAAoB,KACxD,CAACX,EAASS,SAEb,IAjCed,EAAeC,EAiCxBgB,EAAa5B,EAAM6B,OACnBC,EAAaC,KAAKC,KAAKJ,EAAanB,GACpCwB,EAAkBC,MAAMjC,KAAK,CAAE4B,OAAQC,IAC3C,SAACK,EAAGC,GAAJ,OAAcA,EAAQ,KAElBC,EAAsB,SAAC3B,GAC3BW,EAAcX,GACdI,EAAS,SAAD,OAAUJ,EAAV,oBAA0BD,KAQpC,OACE,sBAAK6B,UAAU,YAAf,UACE,uDAEA,mBAAGA,UAAU,OAAO,UAAQ,OAA5B,wBACWlB,EADX,mBACgCX,GAAgBW,EAAa,GAAK,EADlE,cACyEW,KAAKQ,IAAI9B,EAAeW,EAAYQ,GAD7G,eAC+HA,EAD/H,OAIA,sBAAKU,UAAU,iBAAf,UACE,qBAAKA,UAAU,0BAAf,SACE,yBACE,UAAQ,kBACRE,GAAG,kBACHF,UAAU,eACVG,MAAOhC,EACPiC,SAAU,SAACC,GAAD,OApBcC,EAoBkBC,OAAOF,EAAEG,OAAOL,OAnBlEtB,EAAgByB,QAChB9B,EAAS,mBAAD,OAAoB8B,IAFG,IAACA,GAe1B,UAOE,wBAAQH,MAAM,IAAd,eACA,wBAAQA,MAAM,IAAd,eACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,qBAIJ,uBAAOM,QAAQ,kBAAkBT,UAAU,qBAA3C,+BAKF,qBAAIA,UAAU,aAAd,UACE,oBAAIA,UAAS,oBAA8B,IAAflB,EAAmB,WAAa,IAA5D,SACE,mBACE,UAAQ,WACRkB,UAAU,YACVU,KAAK,QACL,gBAA8B,IAAf5B,EACf6B,QAAS,kBAAMZ,EAAoBN,KAAKmB,IAAI9B,EAAa,EAAG,KAL9D,oBAUDa,EAAgB1B,KAAI,SAAC4C,GAAD,OACnB,oBAAkBb,UAAS,oBAAelB,IAAe+B,EAAU,SAAW,IAA9E,SACE,mBACE,UAAQ,WACRF,QAAS,kBAAMZ,EAAoBc,IACnCb,UAAU,YACVU,KAAI,WAAMG,GAJZ,SAMGA,KAPIA,MAWX,oBAAIb,UAAS,oBAAelB,IAAeU,EAAa,WAAa,IAArE,SACE,mBACE,UAAQ,WACRQ,UAAU,YACVU,KAAK,QACLC,QACE,kBAAMZ,EAAoBN,KAAKQ,IAAInB,EAAa,EAAGU,KAErD,gBAAeV,IAAeU,EAPhC,wBAtGOnB,EAmHFH,EAAmBC,EAAcW,GAAYT,MAnH5BC,EAoHxBJ,EAAmBC,EAAcW,GAAYR,IAlHjD,6BACGZ,EAAMoD,MAAMzC,EAAOC,EAAM,GAAGL,KAAI,SAAC8C,GAAD,OAC/B,oBAAI,UAAQ,OAAZ,SAA+BA,GAAPA,aERhCC,IAASC,OAAO,cAAC,IAAD,UAAQ,cAAC,EAAD,MAAkBC,SAASC,eAAe,W","file":"static/js/main.165cd0b8.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\n\nimport './App.css';\nimport { getNumbers } from './utils';\n\nconst items = getNumbers(1, 42).map(n => `Item ${n}`);\n\nfunction finList(start: number, end: number) {\n  return (\n    <ul>\n      {items.slice(start, end + 1).map((item) => (\n        <li data-cy=\"item\" key={item}>{item}</li>\n      ))}\n    </ul>\n  );\n}\n\nfunction calculationOfItems(itemsPerPage: number, page: number) {\n  const start: number = page * itemsPerPage - itemsPerPage;\n  const end: number = page * itemsPerPage - 1;\n\n  return { start, end };\n}\n\nexport const App: React.FC = () => {\n  const navigate = useNavigate();\n\n  const location = useLocation();\n  const [itemsPerPage, setItemsPerPage] = useState(5);\n  const [activePage, setActivePage] = useState(1);\n\n  useEffect(() => {\n    const pageQueryParam = new URLSearchParams(location.search).get('page');\n    const perPageQueryParam = new URLSearchParams(location.search)\n      .get('perPage');\n\n    setActivePage(pageQueryParam ? +pageQueryParam : 1);\n    setItemsPerPage(perPageQueryParam ? +perPageQueryParam : 5);\n  }, [location.search]);\n\n  const totalItems = items.length;\n  const totalPages = Math.ceil(totalItems / itemsPerPage);\n  const paginationLinks = Array.from({ length: totalPages },\n    (_, index) => index + 1);\n\n  const handlePageLinkClick = (page: number) => {\n    setActivePage(page);\n    navigate(`?page=${page}&perPage=${itemsPerPage}`);\n  };\n\n  const handleItemsPerPageChange = (newItemsPerPage: number) => {\n    setItemsPerPage(newItemsPerPage);\n    navigate(`?page=1&perPage=${newItemsPerPage}`);\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>Items with Pagination</h1>\n\n      <p className=\"lead\" data-cy=\"info\">\n        {`Page ${activePage} (items ${itemsPerPage * (activePage - 1) + 1} - ${Math.min(itemsPerPage * activePage, totalItems)} of ${totalItems})`}\n      </p>\n\n      <div className=\"form-group row\">\n        <div className=\"col-3 col-sm-2 col-xl-1\">\n          <select\n            data-cy=\"perPageSelector\"\n            id=\"perPageSelector\"\n            className=\"form-control\"\n            value={itemsPerPage}\n            onChange={(e) => handleItemsPerPageChange(Number(e.target.value))}\n          >\n            <option value=\"3\">3</option>\n            <option value=\"5\">5</option>\n            <option value=\"10\">10</option>\n            <option value=\"20\">20</option>\n          </select>\n        </div>\n\n        <label htmlFor=\"perPageSelector\" className=\"col-form-label col\">\n          items per page\n        </label>\n      </div>\n\n      <ul className=\"pagination\">\n        <li className={`page-item ${activePage === 1 ? 'disabled' : ''}`}>\n          <a\n            data-cy=\"prevLink\"\n            className=\"page-link\"\n            href=\"#prev\"\n            aria-disabled={activePage === 1}\n            onClick={() => handlePageLinkClick(Math.max(activePage - 1, 1))}\n          >\n            «\n          </a>\n        </li>\n        {paginationLinks.map((pageNum) => (\n          <li key={pageNum} className={`page-item ${activePage === pageNum ? 'active' : ''}`}>\n            <a\n              data-cy=\"pageLink\"\n              onClick={() => handlePageLinkClick(pageNum)}\n              className=\"page-link\"\n              href={`#${pageNum}`}\n            >\n              {pageNum}\n            </a>\n          </li>\n        ))}\n        <li className={`page-item ${activePage === totalPages ? 'disabled' : ''}`}>\n          <a\n            data-cy=\"nextLink\"\n            className=\"page-link\"\n            href=\"#next\"\n            onClick={\n              () => handlePageLinkClick(Math.min(activePage + 1, totalPages))\n            }\n            aria-disabled={activePage === totalPages}\n          >\n            »\n          </a>\n        </li>\n      </ul>\n      {finList(calculationOfItems(itemsPerPage, activePage).start,\n        calculationOfItems(itemsPerPage, activePage).end)}\n    </div>\n  );\n};\n\nexport default App;\n","export function getNumbers(from: number, to: number): number[] {\n  const numbers = [];\n\n  for (let n = from; n <= to; n += 1) {\n    numbers.push(n);\n  }\n\n  return numbers;\n}\n","import ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { App } from './App';\n\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\n"],"sourceRoot":""}